<%# render AutoCompleteComponent.new(:product, :ncm_id, load_from: search_ncms_path) %>
<%# render AutoCompleteComponent.new(:product, :ncm_id, load_from: search_ncms_path, query_context: { ncm_id: 112 }) %>
<%# render AutoCompleteComponent.new(:product, :ncm_id, 1250, "Bruno Frank", load_from: search_ncms_path) %>

<div data-controller="dashboard" data-dashboard-invoicing-value="<%= Profit.setInvoicing(@month) %>"
                                 data-dashboard-cost-value="<%= Profit.setCost(@month) %>"
                                 data-dashboard-profit-value="<%= Profit.setProfit(@month) %>"
                                 data-dashboard-sales-value="<%= Profit.setSales(@month).to_json %>">
  <% @profit_form = Profit.new %>

  <%= simple_form_for @profit_form, url: internal_root_url  do |f| %>
    <div class="columns">
      <div class="column is-one-quarter">
        <%= f.input :months, collection: enum_options_for_select(Profit, :months),
                    label: "Selecione o MÃªs", input_html: { data: { action: "change->dashboard#setMonth" }  } %>
      </div>
    </div>
  <% end %>

  <hr />

  <div class="columns">
    <div class="column">
      <canvas id="chart-bar"></canvas>
    </div>
    <div class="column">
      <canvas id="profit-chart"></canvas>
    </div>
  </div>

  <canvas id="sales-per-product"></canvas>
</div>
